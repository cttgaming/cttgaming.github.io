<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat Bot</title>
<style>
  /* CSS样式，可以根据需要自行修改 */
  /* 在这里添加你的CSS样式 */
</style>
</head>
<body>
  <div id="chat-box"></div>
  <input type="text" id="user-input" placeholder="Type a message...">
  <button id="send-btn">Send</button>

  <script>
    const chatBox = document.getElementById('chat-box');
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-btn');

    sendBtn.addEventListener('click', function() {
      const userMessage = userInput.value.trim();
      if (userMessage !== '') {
        appendMessage('You', userMessage);
        userInput.value = '';

        // 发送消息给后端处理
        fetch('/chat', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ message: userMessage })
        })
        .then(response => response.json())
        .then(data => {
          appendMessage('Bot', data.reply);
        })
        .catch(error => console.error('Error:', error));
      }
    });

    function appendMessage(sender, message) {
      const messageElement = document.createElement('div');
      messageElement.textContent = `${sender}: ${message}`;
      chatBox.appendChild(messageElement);
    }
  </script>
</body>
</html>
